<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–∑–∞–û–∫–Ω–æ–º ‚Äî Innovative Mobile</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@200;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #050505;
            --card-bg: rgba(255, 255, 255, 0.06);
            --card-border: rgba(255, 255, 255, 0.1);
            --accent: #60a5fa;
            --text-dim: rgba(255, 255, 255, 0.5);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body {
            font-family: 'Inter', sans-serif;
            background: var(--bg);
            color: #fff;
            min-height: 100vh;
            padding: 20px 16px;
            /* –§–æ–Ω–æ–≤—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç –¥–ª—è –≥–ª—É–±–∏–Ω—ã */
            background: radial-gradient(circle at 50% -20%, #1e293b 0%, #050505 100%);
        }

        .header { text-align: center; margin-bottom: 30px; }
        .city { font-size: 1.8rem; font-weight: 600; letter-spacing: -0.5px; }
        .status { font-size: 1rem; color: var(--text-dim); margin-top: 4px; }

        /* –ì–õ–ê–í–ù–´–ô –≠–ö–†–ê–ù */
        .hero { text-align: center; margin-bottom: 40px; }
        .hero-temp { font-size: 7rem; font-weight: 200; position: relative; display: inline-block; letter-spacing: -4px; }
        .hero-temp::after { content: "¬∞"; position: absolute; top: 15px; right: -35px; font-weight: 200; }
        
        /* –°–¢–ï–ö–õ–Ø–ù–ù–ê–Ø –ö–ê–†–¢–û–ß–ö–ê */
        .glass-card {
            background: var(--card-bg);
            backdrop-filter: blur(30px);
            -webkit-backdrop-filter: blur(30px);
            border: 1px solid var(--card-border);
            border-radius: 28px;
            padding: 20px;
            margin-bottom: 16px;
        }

        .card-label {
            font-size: 0.7rem;
            font-weight: 700;
            text-transform: uppercase;
            color: var(--text-dim);
            letter-spacing: 1px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        /* –ü–û–ß–ê–°–û–í–û–ô –°–ö–†–û–õ–õ */
        .hourly-scroll {
            display: flex;
            gap: 20px;
            overflow-x: auto;
            padding-bottom: 10px;
            scrollbar-width: none;
        }
        .hourly-scroll::-webkit-scrollbar { display: none; }
        .hour-box { text-align: center; min-width: 45px; }
        .hour-time { font-size: 0.8rem; color: var(--text-dim); margin-bottom: 10px; }
        .hour-temp { font-size: 1.1rem; font-weight: 600; }

        /* –ò–ù–ù–û–í–ê–¶–ò–û–ù–ù–ê–Ø –®–ö–ê–õ–ê –ü–†–û–ì–ù–û–ó–ê */
        .daily-item {
            display: grid;
            grid-template-columns: 50px 35px 1fr 85px;
            align-items: center;
            gap: 12px;
            padding: 14px 0;
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }
        .daily-item:last-child { border: none; }
        .day-name { font-weight: 500; font-size: 0.95rem; }
        
        .temp-track {
            height: 4px;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            position: relative;
        }
        .temp-fill {
            position: absolute;
            height: 100%;
            border-radius: 10px;
            background: linear-gradient(to right, #60a5fa, #fbbf24);
        }
        /* –¢–æ—á–∫–∞ —Ç–µ–∫—É—â–µ–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã (–¥–ª—è —Å–µ–≥–æ–¥–Ω—è—à–Ω–µ–≥–æ –¥–Ω—è) */
        .current-dot {
            position: absolute;
            width: 6px;
            height: 6px;
            background: #fff;
            border-radius: 50%;
            top: -1px;
            box-shadow: 0 0 10px #fff;
        }

        .temp-range { text-align: right; font-weight: 600; font-size: 0.95rem; letter-spacing: -0.5px; }
        .temp-min { color: var(--text-dim); margin-right: 8px; }

        /* –ü–õ–ò–¢–ö–ò –ü–ê–†–ê–ú–ï–¢–†–û–í */
        .stats-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
        .stat-card { min-height: 140px; display: flex; flex-direction: column; justify-content: space-between; }
        .stat-val { font-size: 2rem; font-weight: 500; }
        .stat-hint { font-size: 0.75rem; color: var(--text-dim); }

        canvas#particles { position: fixed; inset: 0; z-index: -1; pointer-events: none; }
    </style>
</head>
<body>

<canvas id="particles"></canvas>

<div class="header">
    <div class="city">–ö—É—Ä–≥–∞–Ω</div>
    <div class="status" id="weather-desc">–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è...</div>
</div>

<div class="hero">
    <div class="hero-temp" id="curr-temp">--</div>
    <div class="status" id="feels-like">–û—â—É—â–∞–µ—Ç—Å—è –∫–∞–∫ --¬∞</div>
</div>

<div class="glass-card">
    <div class="card-label">‚è≤Ô∏è –ü–æ—á–∞—Å–æ–≤–æ–π –ø—Ä–æ–≥–Ω–æ–∑</div>
    <div class="hourly-scroll" id="hourly-list"></div>
</div>

<div class="glass-card">
    <div class="card-label">üìÖ –ü—Ä–æ–≥–Ω–æ–∑ –Ω–∞ 14 –¥–Ω–µ–π</div>
    <div id="daily-list"></div>
</div>

<div class="stats-grid">
    <div class="glass-card stat-card">
        <div class="card-label">üí® –í–µ—Ç–µ—Ä</div>
        <div class="stat-val" id="wind-val">0</div>
        <div class="stat-hint">–ú–µ—Ç—Ä–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É</div>
    </div>
    <div class="glass-card stat-card">
        <div class="card-label">üíß –í–ª–∞–∂–Ω–æ—Å—Ç—å</div>
        <div class="stat-val" id="hum-val">0%</div>
        <div class="stat-hint">–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–∞—è</div>
    </div>
</div>

<script>
    const LAT = 55.45, LON = 65.34;

    const W_MAP = {
        0: "–Ø—Å–Ω–æ", 1: "–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ —è—Å–Ω–æ", 2: "–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–±–ª–∞—á–Ω–æ—Å—Ç—å", 3: "–ü–∞—Å–º—É—Ä–Ω–æ",
        45: "–¢—É–º–∞–Ω", 61: "–ù–µ–±–æ–ª—å—à–æ–π –¥–æ–∂–¥—å", 71: "–°–Ω–µ–≥", 95: "–ì—Ä–æ–∑–∞"
    };

    async function init() {
        try {
            const url = `https://api.open-meteo.com/v1/forecast?latitude=${LAT}&longitude=${LON}&current=temperature_2m,apparent_temperature,weather_code,wind_speed_10m,relative_humidity_2m&daily=temperature_2m_max,temperature_2m_min,weather_code&hourly=temperature_2m&timezone=auto&forecast_days=14`;
            const res = await fetch(url);
            if (!res.ok) throw new Error();
            const data = await res.json();
            
            updateUI(data);
        } catch (e) {
            document.getElementById('weather-desc').innerText = "–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è";
        }
    }

    function updateUI(data) {
        // –¢–µ–∫—É—â–∏–µ
        document.getElementById('curr-temp').innerText = Math.round(data.current.temperature_2m);
        document.getElementById('feels-like').innerText = `–û—â—É—â–∞–µ—Ç—Å—è –∫–∞–∫ ${Math.round(data.current.apparent_temperature)}¬∞`;
        document.getElementById('weather-desc').innerText = W_MAP[data.current.weather_code] || "–Ø—Å–Ω–æ";
        document.getElementById('wind-val').innerText = Math.round(data.current.wind_speed_10m);
        document.getElementById('hum-val').innerText = data.current.relative_humidity_2m + '%';

        // –ü–æ—á–∞—Å–æ–≤–æ–π
        const hList = document.getElementById('hourly-list');
        for (let i = 0; i < 24; i++) {
            const time = new Date(data.hourly.time[i]).getHours();
            const temp = Math.round(data.hourly.temperature_2m[i]);
            hList.innerHTML += `
                <div class="hour-box">
                    <div class="hour-time">${i === 0 ? '–°–µ–π—á–∞—Å' : time + ':00'}</div>
                    <div style="font-size: 1.2rem; margin-bottom: 8px;">‚òÄÔ∏è</div>
                    <div class="hour-temp">${temp}¬∞</div>
                </div>
            `;
        }

        // –ü—Ä–æ–≥–Ω–æ–∑ –Ω–∞ 14 –¥–Ω–µ–π —Å–æ —à–∫–∞–ª–∞–º–∏
        const dList = document.getElementById('daily-list');
        const allMax = Math.max(...data.daily.temperature_2m_max);
        const allMin = Math.min(...data.daily.temperature_2m_min);
        const rangeWidth = allMax - allMin;

        data.daily.time.forEach((time, i) => {
            const date = new Date(time);
            const max = data.daily.temperature_2m_max[i];
            const min = data.daily.temperature_2m_min[i];
            
            const left = ((min - allMin) / rangeWidth) * 100;
            const width = ((max - min) / rangeWidth) * 100;

            let dotHtml = '';
            if (i === 0) { // –î–ª—è —Å–µ–≥–æ–¥–Ω—è—à–Ω–µ–≥–æ –¥–Ω—è —Å—Ç–∞–≤–∏–º —Ç–æ—á–∫—É —Ç–µ–∫—É—â–µ–π —Ç–µ–º–ø.
                const dotPos = ((data.current.temperature_2m - min) / (max - min)) * 100;
                dotHtml = `<div class="current-dot" style="left: ${dotPos}%"></div>`;
            }

            dList.innerHTML += `
                <div class="daily-item">
                    <div class="day-name">${i === 0 ? '–°–µ–≥–æ–¥–Ω—è' : date.toLocaleDateString('ru-RU', {weekday: 'short'})}</div>
                    <div style="font-size: 1.1rem;">‚òÄÔ∏è</div>
                    <div class="temp-track">
                        <div class="temp-fill" style="left: ${left}%; width: ${width}%">
                            ${dotHtml}
                        </div>
                    </div>
                    <div class="temp-range">
                        <span class="temp-min">${Math.round(min)}¬∞</span>
                        <span class="temp-max">${Math.round(max)}¬∞</span>
                    </div>
                </div>
            `;
        });
    }

    // –§–æ–Ω–æ–≤—ã–µ —á–∞—Å—Ç–∏—Ü—ã (–ø—ã–ª—å/—Å–Ω–µ–≥)
    const cvs = document.getElementById('particles'), ctx = cvs.getContext('2d');
    let pts = [];
    function resize() { cvs.width = window.innerWidth; cvs.height = window.innerHeight; }
    function create() {
        pts = Array.from({length: 40}, () => ({
            x: Math.random() * cvs.width, y: Math.random() * cvs.height,
            s: Math.random() * 1.5, v: Math.random() * 0.2 + 0.1
        }));
    }
    function loop() {
        ctx.clearRect(0,0,cvs.width,cvs.height);
        ctx.fillStyle = "rgba(255,255,255,0.15)";
        pts.forEach(p => {
            ctx.beginPath(); ctx.arc(p.x, p.y, p.s, 0, Math.PI*2); ctx.fill();
            p.y += p.v; if (p.y > cvs.height) p.y = -5;
        });
        requestAnimationFrame(loop);
    }
    window.onresize = resize; resize(); create(); loop();
    init();
</script>

</body>
</html>
